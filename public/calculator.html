<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0e0e0f" />

  <!-- –î–ª—è iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="–ü–µ—Ä–≤—ã–π —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π">
  <link rel="apple-touch-icon" href="https://1tourtv.ru/wp-content/uploads/2025/08/icon192.png">

  <!-- –î–ª—è Android/Chrome -->
  <link rel="icon" sizes="192x192" href="https://1tourtv.ru/wp-content/uploads/2025/08/icon192.png">
  <meta name="mobile-web-app-capable" content="yes">

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <title>–ü–µ—Ä–≤—ã–π —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π ‚Äî –º–µ–¥–∏–∞–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</title>

  <style>
    :root{
      --brand:#f37021;
      --brand2:#ff8a3c;
      --ink:#0c0c10;
      --muted:#d0d4dd;
      --white:#fff;
      --gray-text:#eef0f5;
      --bg:#0b0c10;

      --calc-bg1:#fff4f4;
      --calc-bg2:#ffe8f0;
      --calc-card:#ffffff;
      --calc-border:#f6c3c9;
      --calc-border-strong:#f295a6;
      --calc-text-main:#3a2a33;
      --calc-text-sub:#7a5c6a;
      --calc-pill:#ffd5c2;
    }

    *{box-sizing:border-box}
    html,body{height:100%}

    body{
      margin:0;
      background:var(--bg);
      color:var(--white);
      font-family:'Montserrat',sans-serif;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .page{
      max-width:980px;
      margin:0 auto;
      padding:12px 14px 110px;
    }

    /* === –®–∞–ø–∫–∞ === */
    .hdr{
      padding:14px;
      background:#111;
      border-radius:18px;
      margin-bottom:12px;
    }
    .hdr__row{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .badge{
      width:42px;
      height:42px;
      border-radius:999px;
      display:grid;
      place-items:center;
      background:var(--brand);
      color:#000;
      font-weight:900;
      font-size:16px;
    }
    .ttl{
      font-size:22px;
      font-weight:900;
    }
    .sub{
      font-size:13px;
      color:var(--muted);
      font-weight:700;
      margin-top:2px;
    }
    .intro{
      margin-top:6px;
      font-size:13px;
      color:var(--gray-text);
      font-weight:600;
    }

    /* === –ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ === */
    .top-stats{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-bottom:16px;
    }
    .stat-card{
      flex:1;
      min-width:140px;
      border-radius:16px;
      padding:12px 14px;
      background:#1b1c20;
      border:1px solid #262932;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .stat-card__label{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.08em;
      color:var(--muted);
      font-weight:800;
    }
    .stat-card__value{
      font-size:22px;
      font-weight:900;
      color:#ffffff;
    }
    .stat-card__sub{
      font-size:11px;
      color:var(--gray-text);
    }
    .stat-card__pill{
      display:inline-block;
      margin-top:4px;
      font-size:11px;
      padding:4px 8px;
      border-radius:999px;
      background:rgba(243,112,33,.12);
      color:#ffd3b3;
      font-weight:700;
      white-space:nowrap;
    }

    @media(max-width:640px){
      .stat-card{flex-basis:100%}
    }

    /* === –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—É === */

    .cta-calc{
      margin:6px 0 6px;
      display:flex;
      justify-content:center;
    }
    .cta-calc button{
      border:none;
      border-radius:999px;
      padding:10px 18px;
      font-weight:800;
      font-size:13px;
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      color:#000;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }

    /* === –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±—é–¥–∂–µ—Ç–∞ ‚Äî —Å–≤–µ—Ç–ª—ã–π —Ä–æ–∑–æ–≤–∞—Ç—ã–π –±–ª–æ–∫ === */

    .calc-wrap{
      margin-top:10px;
      background:linear-gradient(145deg,var(--calc-bg1),var(--calc-bg2));
      border-radius:20px;
      padding:18px 16px 20px;
      border:1px solid var(--calc-border);
      color:var(--calc-text-main);
      box-shadow:0 12px 30px rgba(0,0,0,.18);
    }

    .calc-header{
      display:flex;
      flex-direction:column;
      gap:4px;
      margin-bottom:12px;
    }
    .calc-title{
      font-size:19px;
      font-weight:900;
      color:var(--calc-text-main);
    }
    .calc-subtitle{
      font-size:13px;
      color:var(--calc-text-sub);
      font-weight:600;
    }

    .calc-section{
      background:var(--calc-card);
      border-radius:16px;
      padding:16px;
      margin-top:10px;
      border:1px solid rgba(241,167,176,.8);
    }
    .calc-section-title{
      font-size:15px;
      font-weight:800;
      margin-bottom:10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      color:var(--calc-text-main);
    }
    .badge-step{
      font-size:10px;
      text-transform:uppercase;
      letter-spacing:.06em;
      padding:4px 9px;
      border-radius:999px;
      background:var(--calc-pill);
      color:var(--calc-text-main);
      font-weight:800;
      flex-shrink:0;
    }

    .package-card{
      background:#fff;
      border:1px solid var(--calc-border);
      border-radius:14px;
      padding:14px;
      margin-bottom:10px;
      cursor:pointer;
      transition:all .2s;
      position:relative;
      box-shadow:0 4px 10px rgba(0,0,0,.04);
    }
    .package-card:last-child{margin-bottom:0}
    .package-card:active{transform:scale(0.985)}
    .package-card.selected{
      border-color:var(--calc-border-strong);
      box-shadow:0 10px 24px rgba(252,142,163,.45);
      background:radial-gradient(circle at top left,rgba(252,196,214,.6),#ffffff);
    }
    .package-header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:10px;
      margin-bottom:6px;
    }
    .package-name{
      font-size:17px;
      font-weight:900;
      text-transform:uppercase;
      color:var(--calc-text-main);
    }
    .package-desc{
      font-size:12px;
      color:var(--calc-text-sub);
      margin-top:2px;
    }
    .package-price{
      font-size:20px;
      font-weight:900;
      color:#e56045;
      white-space:nowrap;
    }
    .package-meta{
      font-size:11px;
      color:var(--calc-text-sub);
      margin-top:4px;
    }

    .package-features{
      display:flex;
      flex-direction:column;
      gap:5px;
      margin-top:6px;
      font-size:12px;
      color:var(--calc-text-main);
    }
    .feature{
      display:flex;
      align-items:flex-start;
      gap:6px;
    }
    .feature::before{
      content:'‚úì';
      font-size:13px;
      color:#16a34a;
      margin-top:1px;
      flex-shrink:0;
    }

    .checkbox-option{
      background:#fff;
      border:1px solid var(--calc-border);
      border-radius:14px;
      padding:12px;
      margin-bottom:8px;
      cursor:pointer;
      transition:all .2s;
      display:flex;
      align-items:center;
      gap:10px;
      box-shadow:0 3px 8px rgba(0,0,0,.03);
    }
    .checkbox-option:last-child{margin-bottom:0}
    .checkbox-option:active{transform:scale(0.985)}
    .checkbox-option.selected{
      border-color:var(--calc-border-strong);
      background:radial-gradient(circle at top left,rgba(252,196,214,.55),#ffffff);
      box-shadow:0 8px 18px rgba(252,142,163,.4);
    }

    .checkbox{
      width:22px;
      height:22px;
      border-radius:7px;
      border:1px solid #e4b6c4;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-shrink:0;
      font-size:14px;
      color:var(--calc-text-main);
      background:#fff;
    }
    .checkbox-option.selected .checkbox{
      background:#f973a8;
      border-color:#f973a8;
      color:#fff;
    }
    .checkbox-option.selected .checkbox::after{
      content:'‚úì';
      font-weight:800;
    }

    .option-content{
      flex:1;
      min-width:0;
    }
    .option-text{
      font-size:14px;
      font-weight:800;
      color:var(--calc-text-main);
    }
    .option-subtitle{
      font-size:11px;
      color:var(--calc-text-sub);
      margin-top:2px;
    }
    .price-badge{
      font-size:14px;
      font-weight:800;
      color:#e56045;
      white-space:nowrap;
    }

    /* –ò—Ç–æ–≥ */
    .total-box{
      margin-top:14px;
      background:#fff;
      border-radius:16px;
      padding:14px;
      border:1px solid var(--calc-border-strong);
      box-shadow:0 6px 16px rgba(0,0,0,.08);
      color:var(--calc-text-main);
    }
    .total-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .total-label{
      font-size:13px;
      color:var(--calc-text-sub);
      font-weight:700;
    }
    .total-amount{
      font-size:26px;
      font-weight:900;
      color:#e56045;
      white-space:nowrap;
    }
    .total-breakdown{
      margin-top:8px;
      font-size:12px;
      color:var(--calc-text-main);
      line-height:1.45;
    }
    .total-breakdown.empty{
      opacity:.9;
      font-style:italic;
      color:var(--calc-text-sub);
    }

    .total-note{
      margin-top:6px;
      font-size:11px;
      color:var(--calc-text-sub);
    }

    /* === –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å —Å –∫–Ω–æ–ø–∫–∞–º–∏ === */
    .footer-actions{
      position:fixed;
      left:0;
      right:0;
      bottom:0;
      padding:8px 10px 10px;
      background:rgba(5,6,10,.96);
      border-top:1px solid #22242a;
      backdrop-filter:blur(14px);
      z-index:50;
    }
    .footer-inner{
      max-width:980px;
      margin:0 auto;
      display:flex;
      gap:8px;
    }
    .btn-ghost,
    .btn-primary{
      flex:1;
      border-radius:999px;
      padding:11px 14px;
      font-size:13px;
      font-weight:800;
      border:none;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      white-space:nowrap;
    }
    .btn-ghost{
      background:#15161b;
      color:var(--gray-text);
      border:1px solid #30323a;
    }
    .btn-primary{
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      color:#000;
    }

    @media (max-width:640px){
      .page{padding-bottom:120px}
      .footer-inner{flex-direction:row}
      .total-amount{font-size:22px}
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- –®–∞–ø–∫–∞ -->
    <header class="hdr">
      <div class="hdr__row">
        <div class="badge">TV</div>
        <div>
          <div class="ttl">–ü–µ—Ä–≤—ã–π —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π</div>
          <div class="sub">–ú–µ–¥–∏–∞–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ ‚Ä¢ 24/7 ‚Ä¢ –†–æ—Å—Å–∏—è –∏ –º–∏—Ä</div>
          <div class="intro">–ñ–∏–≤–∞—è –º–µ–¥–∏–∞–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞: –≤—ã –≤–∏–¥–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ –Ω–∞—Å —Å–º–æ—Ç—Ä—è—Ç —Å–µ–π—á–∞—Å ‚Äî –∏ —Å—Ä–∞–∑—É —Å–æ–±–∏—Ä–∞–µ—Ç–µ —Å–≤–æ—é –∫–∞–º–ø–∞–Ω–∏—é.</div>
        </div>
      </div>
    </header>

    <!-- –î–≤–µ –º–∞–ª–µ–Ω—å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
    <section class="top-stats">
      <!-- –°–µ–π—á–∞—Å –≤ —ç—Ñ–∏—Ä–µ -->
      <div class="stat-card">
        <div class="stat-card__label">–°–ï–ô–ß–ê–° –í –≠–§–ò–†–ï</div>
        <div class="stat-card__value" id="nowWatch">0</div>
        <div class="stat-card__sub">
          –∑—Ä–∏—Ç–µ–ª–µ–π –Ω–∞ –≤—Å–µ—Ö –Ω–æ—Å–∏—Ç–µ–ª—è—Ö
          <div class="stat-card__pill">
            –û—Ç–µ–ª–∏ –¢—É—Ä—Ü–∏–∏: <span id="turWatch">0</span> ‚Ä¢ –†–æ—Å—Å–∏–∏: <span id="rusWatch">0</span>
          </div>
        </div>
      </div>

      <!-- –ê—É–¥–∏—Ç–æ—Ä–∏—è –≤ –º–µ—Å—è—Ü -->
      <div class="stat-card">
        <div class="stat-card__label">–ê–£–î–ò–¢–û–†–ò–Ø –í –ú–ï–°–Ø–¶</div>
        <div class="stat-card__value" id="bigStatNum">0</div>
        <div class="stat-card__sub">
          –¢–í, –æ—Ç–µ–ª–∏, IPTV, —Å–æ—Ü—Å–µ—Ç–∏ –∏ –ø–∞—Ä—Ç–Ω—ë—Ä—ã
        </div>
      </div>
    </section>

    <!-- –ö–Ω–æ–ø–∫–∞ –∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—É -->
    <div class="cta-calc">
      <button type="button" id="toCalcBtn">
        üí∞ –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–∞—Å—á—ë—Ç—É –∫–∞–º–ø–∞–Ω–∏–∏
      </button>
    </div>

    <!-- –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† -->
    <section class="calc-wrap" id="calculator">
      <div class="calc-header">
        <div class="calc-title">–°–æ–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é –∫–∞–º–ø–∞–Ω–∏—é</div>
        <div class="calc-subtitle">
          –°–Ω–∞—á–∞–ª–∞ —Ä–µ—à–∏–º –≤–æ–ø—Ä–æ—Å —Å —Ä–æ–ª–∏–∫–æ–º, –ø–æ—Ç–æ–º –±–ª–æ–≥–µ—Ä—ã –∏ —Ç–æ–ª—å–∫–æ –∑–∞—Ç–µ–º –º–∏–Ω—É—Ç—ã –≤ —ç—Ñ–∏—Ä–µ.
        </div>
      </div>

      <!-- 1. –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Ä–æ–ª–∏–∫–∞ -->
      <div class="calc-section">
        <div class="calc-section-title">
          <span>–†–æ–ª–∏–∫ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</span>
          <span class="badge-step">—à–∞–≥ 1</span>
        </div>

        <div class="checkbox-option" data-type="production" data-value="base" data-price="50000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–†–æ–ª–∏–∫ –∏–∑ –≤–∞—à–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</div>
            <div class="option-subtitle">–î–æ 60 —Å–µ–∫, –º–æ–Ω—Ç–∞–∂, —Ç–∏—Ç—Ä—ã, –ª–æ–≥–æ—Ç–∏–ø—ã</div>
          </div>
          <div class="price-badge">50 000 ‚ÇΩ</div>
        </div>

        <div class="checkbox-option" data-type="production" data-value="shoot-msk" data-price="150000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–°—ä—ë–º–∫–∞ –≤ –ú–æ—Å–∫–≤–µ</div>
            <div class="option-subtitle">–û–ø–µ—Ä–∞—Ç–æ—Ä + —Ä–µ–∂–∏—Å—Å—ë—Ä, –≤—ã–µ–∑–¥–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞</div>
          </div>
          <div class="price-badge">+150 000 ‚ÇΩ</div>
        </div>

        <div class="checkbox-option" data-type="production" data-value="shoot-region" data-price="200000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–°—ä—ë–º–∫–∞ –≤ —Ä–µ–≥–∏–æ–Ω–µ / –Ω–∞ –∫—É—Ä–æ—Ä—Ç–µ</div>
            <div class="option-subtitle">–° —É—á—ë—Ç–æ–º –¥–æ—Ä–æ–≥–∏ –∏ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã</div>
          </div>
          <div class="price-badge">+200 000 ‚ÇΩ</div>
        </div>

        <div class="checkbox-option" data-type="production" data-value="voice" data-price="20000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–∑–≤—É—á–∫–∞</div>
            <div class="option-subtitle">–î–∏–∫—Ç–æ—Ä—Å–∫–∏–π –≥–æ–ª–æ—Å –ø–æ–¥ —Å—Ç–∏–ª—å –≤–∞—à–µ–≥–æ –±—Ä–µ–Ω–¥–∞</div>
          </div>
          <div class="price-badge">+20 000 ‚ÇΩ</div>
        </div>

        <div class="checkbox-option" data-type="production" data-value="graphics" data-price="20000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–ì—Ä–∞—Ñ–∏–∫–∞ –∏ –∞–Ω–∏–º–∞—Ü–∏—è</div>
            <div class="option-subtitle">–î–æ 10 —Å–µ–∫—É–Ω–¥ —Ñ–∏—Ä–º–µ–Ω–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏</div>
          </div>
          <div class="price-badge">+20 000 ‚ÇΩ</div>
        </div>

        <div class="checkbox-option" data-type="production" data-value="creative" data-price="50000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–ö—Ä–µ–∞—Ç–∏–≤ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–π</div>
            <div class="option-subtitle">–ü—Ä–æ–¥—é—Å–µ—Ä + —Å—Ü–µ–Ω–∞—Ä–∏—Å—Ç, —á—Ç–æ–±—ã —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Å–º–æ—Ç—Ä–µ–ª–∏</div>
          </div>
          <div class="price-badge">+50 000 ‚ÇΩ</div>
        </div>

        <div class="checkbox-option" data-type="production" data-value="actors" data-price="100000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–ê–∫—Ç—ë—Ä—ã –∏ –≤–µ–¥—É—â–∏–µ</div>
            <div class="option-subtitle">–ö–∞—Å—Ç–∏–Ω–≥, –ø–æ–¥–±–æ—Ä –∏ —Å—ä—ë–º–∫–∞ —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏</div>
          </div>
          <div class="price-badge">+100 000 ‚ÇΩ</div>
        </div>
      </div>

      <!-- 2. –ë–ª–æ–≥–µ—Ä—ã -->
      <div class="calc-section">
        <div class="calc-section-title">
          <span>–ë–ª–æ–≥–µ—Ä—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</span>
          <span class="badge-step">—à–∞–≥ 2</span>
        </div>

        <div class="checkbox-option" data-type="blogger" data-value="top" data-price="150000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–¢–û–ü-–±–ª–æ–≥–µ—Ä</div>
            <div class="option-subtitle">–û—Ç 50 000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, —Ñ–æ—Ä–º–∞—Ç ‚Äú—Ä–µ–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç‚Äù</div>
          </div>
          <div class="price-badge">150 000 ‚ÇΩ</div>
        </div>

        <div class="checkbox-option" data-type="blogger" data-value="mega" data-price="300000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–ú–ï–ì–ê-–±–ª–æ–≥–µ—Ä</div>
            <div class="option-subtitle">–û—Ç 300 000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, –æ—Ç–¥–µ–ª—å–Ω—ã–π –≤—ã–ø—É—Å–∫</div>
          </div>
          <div class="price-badge">300 000 ‚ÇΩ</div>
        </div>

        <div class="checkbox-option" data-type="blogger" data-value="super" data-price="600000">
          <div class="checkbox"></div>
          <div class="option-content">
            <div class="option-text">–°–£–ü–ï–†-–±–ª–æ–≥–µ—Ä</div>
            <div class="option-subtitle">–§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å + –∫—Ä–æ—Å—Å-–ø–æ—Å—Ç–∏–Ω–≥ –Ω–∞ –Ω–∞—à–∏ –ø–ª–æ—â–∞–¥–∫–∏</div>
          </div>
          <div class="price-badge">600 000 ‚ÇΩ</div>
        </div>
      </div>

      <!-- 3. –ü–∞–∫–µ—Ç—ã –º–∏–Ω—É—Ç / —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ -->
      <div class="calc-section" id="section-packages">
        <div class="calc-section-title">
          <span>–ü–∞–∫–µ—Ç –º–∏–Ω—É—Ç –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ</span>
          <span class="badge-step">—à–∞–≥ 3</span>
        </div>

        <div class="package-card" data-type="package" data-value="MINI" data-price="450000">
          <div class="package-header">
            <div>
              <div class="package-name">MINI</div>
              <div class="package-desc">–°—Ç–∞—Ä—Ç–æ–≤–∞—è –∫–∞–º–ø–∞–Ω–∏—è, –∫–æ–≥–¥–∞ –≤—ã —Ç–æ–ª—å–∫–æ –ø—Ä–æ–±—É–µ—Ç–µ –ø–ª–æ—â–∞–¥–∫—É.</div>
              <div class="package-meta">10 –¥–Ω–µ–π ‚Ä¢ —ç—Ñ–∏—Ä + —Å–∞–π—Ç ‚Ä¢ –¥–æ 10 –º–∏–Ω—É—Ç –≤ —Ä–æ—Ç–∞—Ü–∏–∏</div>
            </div>
            <div class="package-price">450 000 ‚ÇΩ</div>
          </div>
          <div class="package-features">
            <div class="feature">–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–Ω–µ–π</div>
            <div class="feature">–†–æ—Ç–∞—Ü–∏—è –≤ —ç—Ñ–∏—Ä–µ + –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Å–∞–π—Ç–µ</div>
            <div class="feature">–û—Ç—á—ë—Ç –ø–æ –ø–æ–∫–∞–∑–∞–º –∏ –≤—ã—Ö–æ–¥–∞–º</div>
          </div>
        </div>

        <div class="package-card" data-type="package" data-value="HIT" data-price="600000">
          <div class="package-header">
            <div>
              <div class="package-name">HIT</div>
              <div class="package-desc">–ë–∞–ª–∞–Ω—Å –æ—Ö–≤–∞—Ç–∞ –∏ —á–∞—Å—Ç–æ—Ç—ã ‚Äî –≤–∞—Å —Ç–æ—á–Ω–æ –∑–∞–ø–æ–º–Ω—è—Ç.</div>
              <div class="package-meta">20 –¥–Ω–µ–π ‚Ä¢ —ç—Ñ–∏—Ä + —Å–∞–π—Ç + —Å–æ—Ü—Å–µ—Ç–∏ ‚Ä¢ ~15 –º–∏–Ω—É—Ç –≤ –ø–∞–∫–µ—Ç–µ</div>
            </div>
            <div class="package-price">600 000 ‚ÇΩ</div>
          </div>
          <div class="package-features">
            <div class="feature">–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ö–æ–¥—ã –≤ —ç—Ñ–∏—Ä–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 3 –Ω–µ–¥–µ–ª—å</div>
            <div class="feature">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö –∫–∞–Ω–∞–ª–∞</div>
            <div class="feature">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–æ—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞</div>
          </div>
        </div>

        <div class="package-card" data-type="package" data-value="OPTIMA" data-price="900000">
          <div class="package-header">
            <div>
              <div class="package-name">OPTIMA</div>
              <div class="package-desc">–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ ‚Äú—Ä–∞—Å–∫–∞—á–∞—Ç—å‚Äù –±—Ä–µ–Ω–¥ –∏ —Å–æ–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –≤–Ω–∏–º–∞–Ω–∏—è.</div>
              <div class="package-meta">30 –¥–Ω–µ–π ‚Ä¢ —ç—Ñ–∏—Ä + —Å–∞–π—Ç + —Å–æ—Ü—Å–µ—Ç–∏ + –ø–∞—Ä—Ç–Ω—ë—Ä—ã ‚Ä¢ ~30 –º–∏–Ω—É—Ç</div>
            </div>
            <div class="package-price">900 000 ‚ÇΩ</div>
          </div>
          <div class="package-features">
            <div class="feature">–ú–µ—Å—è—Ü —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è –≤ —Å–µ—Ç–∏ –∫–∞–Ω–∞–ª–æ–≤</div>
            <div class="feature">–ö—Ä–æ—Å—Å-–ø—Ä–æ–º–æ –Ω–∞ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö –ø–ª–æ—â–∞–¥–∫–∞—Ö</div>
            <div class="feature">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–ø–µ—Ü—Ä—É–±—Ä–∏–∫–∏</div>
          </div>
        </div>

        <div class="package-card" data-type="package" data-value="PRO" data-price="1500000">
          <div class="package-header">
            <div>
              <div class="package-name">PRO</div>
              <div class="package-desc">–ò—Å—Ç–æ—Ä–∏—è ‚Äú–º—ã –∑–¥–µ—Å—å –Ω–∞–¥–æ–ª–≥–æ‚Äù: —Å–ø–µ—Ü–ø—Ä–æ–µ–∫—Ç –ø–æ–¥ –≤–∞—Å.</div>
              <div class="package-meta">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å—Ä–æ–∫–∏ ‚Ä¢ –≤—Å–µ –Ω–æ—Å–∏—Ç–µ–ª–∏ ‚Ä¢ ~45 –º–∏–Ω—É—Ç</div>
            </div>
            <div class="package-price">1 500 000 ‚ÇΩ</div>
          </div>
          <div class="package-features">
            <div class="feature">–°–ø–µ—Ü–ø—Ä–æ–µ–∫—Ç –ø–æ–¥ –∑–∞–¥–∞—á–∏ –±—Ä–µ–Ω–¥–∞</div>
            <div class="feature">–ì–∏–±–∫–∏–π –º–µ–¥–∏–∞–ø–ª–∞–Ω, –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø–æ —Ö–æ–¥—É –∫–∞–º–ø–∞–Ω–∏–∏</div>
            <div class="feature">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—é—Å–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞</div>
          </div>
        </div>
      </div>

      <!-- –ò—Ç–æ–≥ -->
      <div class="total-box">
        <div class="total-row">
          <div class="total-label">–ò—Ç–æ–≥–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ:</div>
          <div class="total-amount" id="totalAmount">0 ‚ÇΩ</div>
        </div>
        <div class="total-breakdown empty" id="breakdown">
          –ï—â—ë –Ω–µ—Ç –ø–∞–∫–µ—Ç–∞ –∏ –æ–ø—Ü–∏–π ‚Äî —Å–æ–±–µ—Ä–∏—Ç–µ –∫–∞–º–ø–∞–Ω–∏—é, –∏ –∑–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–π –±—é–¥–∂–µ—Ç.
        </div>
        <div class="total-note">
          –ò—Ç–æ–≥–æ–≤–∞—è —Å–º–µ—Ç–∞ —É—Ç–æ—á–Ω—è–µ—Ç—Å—è –ø—Ä–æ–¥—é—Å–µ—Ä–æ–º: –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ—Å–∏—Ç–µ–ª–∏ –∏ –∞–∫—Ü–µ–Ω—Ç—ã.
        </div>
      </div>
    </section>
  </div>

  <!-- –ù–∏–∂–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ -->
  <div class="footer-actions">
    <div class="footer-inner">
      <button class="btn-ghost" type="button" id="backToChatBtn">
        ‚¨Ö –ù–∞–∑–∞–¥ –≤ Telegram
      </button>
      <button class="btn-primary" type="button" id="scrollToCalcBtn">
        üí∞ –ö —Ä–∞—Å—á—ë—Ç—É –∫–∞–º–ø–∞–Ω–∏–∏
      </button>
    </div>
  </div>

  <script>
    const tg = window.Telegram ? window.Telegram.WebApp : null;

    if (tg) {
      tg.ready();
      tg.expand();
      tg.MainButton.setText('–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–¥—é—Å–µ—Ä—É ‚Äî –æ–Ω —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏');
      tg.MainButton.hide(); // –ø–æ–∫–∞–∂–µ–º –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–∞–∫–µ—Ç–∞
    }

    const fmt = n => (n).toLocaleString('ru-RU');

    // –ê–Ω–∏–º–∞—Ü–∏—è –º–µ—Å—è—á–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
    (function(){
      const el = document.getElementById('bigStatNum');
      let val = 0;
      const target = 1200000;
      const step = Math.round(target / 80);
      const timer = setInterval(()=>{
        val += step;
        if (val >= target){
          val = target;
          clearInterval(timer);
        }
        el.textContent = fmt(val);
      }, 40);
    })();

    // –û–Ω–ª–∞–π–Ω-—Ü–∏—Ñ—Ä—ã "—Å–µ–π—á–∞—Å —Å–º–æ—Ç—Ä—è—Ç" –≤ –º–∞–ª–µ–Ω—å–∫–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
    (function(){
      const elNow = document.getElementById('nowWatch');
      const elTur = document.getElementById('turWatch');
      const elRus = document.getElementById('rusWatch');
      const rnd = (min,max)=>Math.floor(Math.random()*(max-min+1))+min;

      let now = 186540, tur = 72300, rus = 45200;

      function paint(){
        elNow.textContent = fmt(now);
        elTur.textContent = fmt(tur);
        elRus.textContent = fmt(rus);
      }

      paint();

      setInterval(()=>{
        const step = Math.max(200, Math.round(now*(Math.random()*0.012+0.004)));
        now = Math.max(60000, Math.min(350000, now + (Math.random()<.5 ? -step : step)));
        const tStep = rnd(300, 2400);
        const rStep = rnd(300, 1800);
        tur = Math.max(20000, Math.min(120000, tur + (Math.random()<.5 ? -tStep : tStep)));
        rus = Math.max(10000, Math.min(100000, rus + (Math.random)<.5 ? -rStep : rStep));
      }, 7000);

      setInterval(paint, 1500);
    })();

    // –°–∫—Ä–æ–ª–ª –∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—É
    const toCalcBtn = document.getElementById('toCalcBtn');
    const scrollToCalcBtn = document.getElementById('scrollToCalcBtn');
    const calcSection = document.getElementById('calculator');

    function scrollToCalc(){
      calcSection.scrollIntoView({behavior:'smooth',block:'start'});
      if (tg) {
        try { tg.HapticFeedback && tg.HapticFeedback.impactOccurred('light'); } catch(e){}
      }
    }

    toCalcBtn.addEventListener('click', scrollToCalc);
    scrollToCalcBtn.addEventListener('click', scrollToCalc);

    // –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥ –≤ Telegram"
    const backToChatBtn = document.getElementById('backToChatBtn');
    backToChatBtn.addEventListener('click', ()=>{
      if (tg) {
        try { tg.HapticFeedback && tg.HapticFeedback.impactOccurred('light'); } catch(e){}
        tg.close();
      } else {
        window.history.back();
      }
    });

    // –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
    const totalEl = document.getElementById('totalAmount');
    const breakdownEl = document.getElementById('breakdown');

    let selected = {
      package: null,
      production: [],
      blogger: null
    };

    function calculateTotal(){
      let total = 0;
      const parts = [];

      // –ü–∞–∫–µ—Ç
      if (selected.package){
        total += selected.package.price;
        parts.push(`–ü–∞–∫–µ—Ç ${selected.package.name} (${(selected.package.price/1000).toFixed(0)} —Ç‚ÇΩ)`);
      }

      // –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ
      if (selected.production.length){
        const prodTotal = selected.production.reduce((sum,p)=>sum+p.price,0);
        total += prodTotal;
        parts.push(`–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ (${(prodTotal/1000).toFixed(0)} —Ç‚ÇΩ: ${selected.production.map(p=>p.name).join(', ')})`);
      }

      // –ë–ª–æ–≥–µ—Ä—ã
      if (selected.blogger){
        total += selected.blogger.price;
        parts.push(`–ë–ª–æ–≥–µ—Ä (${(selected.blogger.price/1000).toFixed(0)} —Ç‚ÇΩ: ${selected.blogger.name})`);
      }

      if (!selected.package && !selected.production.length && !selected.blogger){
        totalEl.textContent = '0 ‚ÇΩ';
        breakdownEl.classList.add('empty');
        breakdownEl.textContent = '–ï—â—ë –Ω–µ—Ç –ø–∞–∫–µ—Ç–∞ –∏ –æ–ø—Ü–∏–π ‚Äî —Å–æ–±–µ—Ä–∏—Ç–µ –∫–∞–º–ø–∞–Ω–∏—é, –∏ –∑–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–π –±—é–¥–∂–µ—Ç.';
        if (tg) tg.MainButton.hide();
        return 0;
      }

      totalEl.textContent = total.toLocaleString('ru-RU') + ' ‚ÇΩ';
      breakdownEl.classList.remove('empty');
      breakdownEl.textContent = parts.join(' + ');

      if (tg){
        tg.MainButton.show();
      }

      return total;
    }

    // –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ (multi-checkbox)
    document.querySelectorAll('[data-type="production"]').forEach(option=>{
      option.addEventListener('click', ()=>{
        option.classList.toggle('selected');

        const name = option.querySelector('.option-text').textContent.trim();
        const price = parseInt(option.dataset.price,10);

        if (option.classList.contains('selected')){
          selected.production.push({name,price});
        } else {
          selected.production = selected.production.filter(p=>p.name!==name);
        }

        if (tg){
          try { tg.HapticFeedback && tg.HapticFeedback.impactOccurred('light'); } catch(e){}
        }
        calculateTotal();
      });
    });

    // –ë–ª–æ–≥–µ—Ä—ã (radio ‚Äî —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–Ω—è—Ç—å –≤—ã–±–æ—Ä)
    document.querySelectorAll('[data-type="blogger"]').forEach(option=>{
      option.addEventListener('click', ()=>{
        const already = option.classList.contains('selected');
        document.querySelectorAll('[data-type="blogger"]').forEach(o=>o.classList.remove('selected'));

        if (already){
          selected.blogger = null;
        } else {
          option.classList.add('selected');
          const name = option.querySelector('.option-text').textContent.trim();
          const price = parseInt(option.dataset.price,10);
          selected.blogger = {name,price};
        }

        if (tg){
          try { tg.HapticFeedback && tg.HapticFeedback.impactOccurred('light'); } catch(e){}
        }
        calculateTotal();
      });
    });

    // –ü–∞–∫–µ—Ç—ã (radio)
    document.querySelectorAll('[data-type="package"]').forEach(card=>{
      card.addEventListener('click', ()=>{
        document.querySelectorAll('[data-type="package"]').forEach(c=>c.classList.remove('selected'));
        card.classList.add('selected');

        selected.package = {
          name: card.dataset.value,
          price: parseInt(card.dataset.price,10)
        };

        if (tg){
          try { tg.HapticFeedback && tg.HapticFeedback.impactOccurred('light'); } catch(e){}
        }
        calculateTotal();
      });
    });

    // MainButton ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—é—Å–µ—Ä—É
    if (tg){
      tg.MainButton.onClick(()=>{
        try { tg.HapticFeedback && tg.HapticFeedback.notificationOccurred('success'); } catch(e){}

        const payload = {
          type: 'budget_calc',
          package: selected.package ? selected.package.name : null,
          packagePrice: selected.package ? selected.package.price : 0,
          production: selected.production.map(p=>p.name),
          productionPrice: selected.production.reduce((sum,p)=>sum+p.price,0),
          blogger: selected.blogger ? selected.blogger.name : null,
          bloggerPrice: selected.blogger ? selected.blogger.price : 0,
          total: calculateTotal(),
          userId: tg.initDataUnsafe && tg.initDataUnsafe.user ? tg.initDataUnsafe.user.id : null
        };

        tg.sendData(JSON.stringify(payload));
        tg.close();
      });
    }
  </script>
</body>
</html>
