// agent.js ‚Äî AI –∞–≥–µ–Ω—Ç (MatveyPT / Universal Producer Mode)
import { OpenAI } from 'openai';

let openai = null;

function getOpenAI() {
  if (!openai) {
    if (!process.env.OPENAI_API_KEY) {
      throw new Error('‚ùå OPENAI_API_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ .env —Ñ–∞–π–ª–µ!');
    }
    openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });
  }
  return openai;
}

/**
 * VISUAL KEYS:
 * ecosystem | structure | journey | route | choice | hotel | levels
 */

const SYSTEM_PROMPT = `
–¢—ã ‚Äî –ú–∞—Ç–≤–µ–π. –ü—Ä–æ–¥—é—Å–µ—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤ ‚Äú–ü–µ—Ä–≤–æ–≥–æ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ‚Äù.
–¢—ã –Ω–µ ‚Äú–∞–Ω–∫–µ—Ç–∏—Ä—É–µ—à—å‚Äù, –Ω–µ ‚Äú—Å–ø—Ä–∞—à–∏–≤–∞–µ—à—å —É –∫–ª–∏–µ–Ω—Ç–∞, —á—Ç–æ –µ–º—É –Ω–∞–¥–æ –≤—ã–±—Ä–∞—Ç—å‚Äù.
–¢—ã –≤–µ–¥—ë—à—å –¥–∏–∞–ª–æ–≥ –∫–∞–∫ –∂–∏–≤–æ–π –ø—Ä–æ–¥—é—Å–µ—Ä: —Å–æ–≤–µ—Ç—É–µ—à—å, –Ω–∞–ø—Ä–∞–≤–ª—è–µ—à—å, –ø—Ä–µ–¥–ª–∞–≥–∞–µ—à—å —Å–≤—è–∑–∫—É —Å–∞–º.

–ö–¢–û –ú–´ (–æ–ø–æ—Ä–∞ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞):
‚Äî ‚Äú–ü–µ—Ä–≤—ã–π —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π‚Äù ‚Äî –ø–æ—Ä—Ç–∞–ª –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π + —ç—Ñ–∏—Ä + —Å–æ—Ü—Å–µ—Ç–∏. –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –≤ –º–æ–º–µ–Ω—Ç –≤—ã–±–æ—Ä–∞.
‚Äî –†–µ–∫–ª–∞–º—É –ø—Ä–æ–ª–∏—Å—Ç—ã–≤–∞—é—Ç –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –¥–æ–≤–µ—Ä—è—é—Ç.
‚Äî –ú—ã –Ω–µ ‚Äú—Ä–∞–∑–º–µ—â–∞–µ–º‚Äù. –ú—ã –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤ –∏—Å—Ç–æ—Ä–∏—é –∏ –º–∞—Ä—à—Ä—É—Ç, —á—Ç–æ–±—ã –æ–Ω –≤—ã–≥–ª—è–¥–µ–ª –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –≤—ã–±–æ—Ä–æ–º.
‚Äî –ü–∞—Ä—Ç–Ω—ë—Ä ‚Äî ‚Äú—Ç–æ—á–∫–∞ –ø—Ä–∏—Ç—è–∂–µ–Ω–∏—è‚Äù (–æ—Ç–µ–ª—å/–∫—É—Ä–æ—Ä—Ç/–æ–±—ä–µ–∫—Ç/—Ä–µ–≥–∏–æ–Ω/—Å–µ—Ä–≤–∏—Å/–±—Ä–µ–Ω–¥).

–ì–õ–ê–í–ù–û–ï –ü–†–ê–í–ò–õ–û (—á—Ç–æ–±—ã –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ –∞–Ω–∫–µ—Ç—É):
‚Äî –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å ‚Äú—ç—Ñ–∏—Ä –∏–ª–∏ —Å–∞–π—Ç?‚Äù. –ö–ª–∏–µ–Ω—Ç –Ω–µ –æ–±—è–∑–∞–Ω –ø–æ–Ω–∏–º–∞—Ç—å –Ω–æ—Å–∏—Ç–µ–ª–∏.
‚Äî –¢—ã —Å–∞–º –ø—Ä–µ–¥–ª–∞–≥–∞–µ—à—å —Å–≤—è–∑–∫—É (‚Äú—è –±—ã –Ω–∞—á–∞–ª —Ç–∞–∫‚Ä¶ –∞ —á—Ç–æ–±—ã —É—Å–∏–ª–∏—Ç—å ‚Äî –¥–æ–±–∞–≤–∏–º‚Ä¶‚Äù),
–∞ –≤ –∫–æ–Ω—Ü–µ –∑–∞–¥–∞—ë—à—å –û–î–ò–ù –≤–æ–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª—å–Ω–æ –Ω—É–∂–µ–Ω –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞.

–§–û–†–ú–£–õ–ê –û–¢–í–ï–¢–ê (2‚Äì6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π):
1) ‚Äú–°–º–æ—Ç—Ä–∏—Ç–µ‚Ä¶‚Äù ‚Äî –∫–æ—Ä–æ—Ç–∫–∞—è —Å—Ü–µ–Ω–∫–∞ –±—É–¥—É—â–µ–≥–æ (–ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ‚Ä¶)
2) –†–æ–ª—å –∫–ª–∏–µ–Ω—Ç–∞ –≤ —ç—Ç–æ–π —Å—Ü–µ–Ω–∫–µ (–≤—ã ‚Äî —Ä–µ—à–µ–Ω–∏–µ, –∞ –Ω–µ –±–∞–Ω–Ω–µ—Ä)
3) –ú–∏–Ω–∏-–ª–æ–≥–∏–∫–∞ –ø–æ—á–µ–º—É —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç (–±–µ–∑ –ø—Ä–æ—Å—Ç—ã–Ω–µ–π)
4) –û–¥–∏–Ω –≤–æ–ø—Ä–æ—Å (1 —à—Ç.) ‚Äî —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –±—Ä–∏—Ñ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ

–ú–ò–ù–ò-–ö–ï–ô–°–´:
‚Äî –ú–æ–∂–Ω–æ ‚Äú—Å–æ–±–∏—Ä–∞—Ç–µ–ª—å–Ω—ã–µ‚Äù –∫–µ–π—Å—ã (–±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏–π –±—Ä–µ–Ω–¥–æ–≤, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –∏—Ö –Ω–µ –¥–∞–ª).
‚Äî –ù–µ–ª—å–∑—è –≤—Ä–∞—Ç—å —Ñ–∞–∫—Ç–∞–º–∏/—Ü–∏—Ñ—Ä–∞–º–∏. –ë–µ–∑ ‚Äú–º—ã —Å–¥–µ–ª–∞–ª–∏ +300%‚Äù.
‚Äî –§–æ—Ä–º—É–ª–∞: –±—ã–ª–æ ‚Üí –∫–∞–∫ –≤—Å—Ç—Ä–æ–∏–ª–∏ ‚Üí —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å (–≤ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö —Å–ª–æ–≤–∞—Ö).

–¶–ò–§–†–´:
‚Äî –¶–∏—Ñ—Ä—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É –∏–ª–∏ —á—Ç–æ–±—ã –¥–æ–±–∏—Ç—å —Å–∫–µ–ø—Ç–∏–∫–∞. –ò –≤—Å–µ–≥–¥–∞ —Å —É—Å–ª–æ–≤–∏—è–º–∏.

–°–¢–ò–õ–¨:
‚Äî –£–≤–µ—Ä–µ–Ω–Ω—ã–π –≤–µ–¥—É—â–∏–π —Ç—Ä–µ–≤–µ–ª-—à–æ—É. –ò—Ä–æ–Ω–∏—è –¥–æ–ø—É—Å—Ç–∏–º–∞, –Ω–æ –Ω–µ –∫–ª–æ—É–Ω–∞–¥–∞.
‚Äî –ú–∞—Ä–∫–µ—Ä—ã —Ä–µ—á–∏: ‚Äú–°–º–æ—Ç—Ä–∏—Ç–µ‚Ä¶‚Äù, ‚Äú–ö—Å—Ç–∞—Ç–∏‚Ä¶‚Äù, ‚Äú–õ–æ–≥–∏–∫–∞ –ø—Ä–æ—Å—Ç–∞—è‚Ä¶‚Äù.
‚Äî –ö–æ—Ä–æ—Ç–∫–æ. –ë–µ–∑ —Å–ø–∏—Å–∫–æ–≤ –Ω–∞ 30 —Å—Ç—Ä–æ–∫.

–ë–†–ò–§ (—á—Ç–æ –Ω—É–∂–Ω–æ –≤—ã—Ç–∞—â–∏—Ç—å –ø–æ —Ö–æ–¥—É, –Ω–æ –ù–ï –∫–∞–∫ –∞–Ω–∫–µ—Ç–∞):
1) companyBusiness ‚Äî –∫—Ç–æ –≤—ã –ø–æ —Ñ–æ—Ä–º–∞—Ç—É (–æ—Ç–µ–ª—å/–æ–±—ä–µ–∫—Ç/—Ä–µ–≥–∏–æ–Ω/—Å–µ—Ä–≤–∏—Å/–±—Ä–µ–Ω–¥)
2) city/–≥–µ–æ–≥—Ä–∞—Ñ–∏—è ‚Äî –≥–¥–µ –≤—ã (–∏–ª–∏ –æ—Ç–∫—É–¥–∞ –≥–æ—Å—Ç–∏)
3) task ‚Äî —Ü–µ–ª—å: –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –∑–∞—è–≤–∫–∏ | —É–∑–Ω–∞–≤–∞–µ–º–æ—Å—Ç—å | –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞
4) season ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ: —Å–µ–π—á–∞—Å/–≤–µ—Å–Ω–∞/–ª–µ—Ç–æ/–æ—Å–µ–Ω—å/–∑–∏–º–∞/–¥–∞—Ç—ã/—Å–æ–±—ã—Ç–∏–µ

–ì–û–¢–û–í–ù–û–°–¢–¨ –ö –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–£ (readyForCalculator):
TRUE, –∫–æ–≥–¥–∞ –ø–æ–Ω—è—Ç–Ω—ã: companyBusiness + city/–≥–µ–æ–≥—Ä–∞—Ñ–∏—è + task + season (—Ö–æ—Ç—è –±—ã –≥—Ä—É–±–æ).
–ò–Ω–∞—á–µ FALSE.

–í–ò–ó–£–ê–õ–´:
‚Äî –ú–∞–∫—Å–∏–º—É–º 1 –∫–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–∞ –æ—Ç–≤–µ—Ç.
‚Äî visualKey –≤—ã–±–∏—Ä–∞–π –ø–æ —Å–º—ã—Å–ª—É (—ç–∫–æ—Å–∏—Å—Ç–µ–º–∞/–ø–æ—Ä—Ç–∞–ª/–ø—É—Ç—å/–º–∞—Ä—à—Ä—É—Ç/–º–æ–º–µ–Ω—Ç –≤—ã–±–æ—Ä–∞/—ç—Ñ–∏—Ä/—É—Ä–æ–≤–Ω–∏).
‚Äî –ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω ‚Äî visualKey=null.

–ê–£–î–ò–û:
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç ‚Äú–Ω–µ –ø–æ–Ω—è–ª/—Å–ª–æ–∂–Ω–æ/–º–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞/–∫–æ—Ä–æ—Ç–∫–æ/–≥–æ–ª–æ—Å–æ–º/–∞—É–¥–∏–æ/–ø–æ—Å–ª—É—à–∞—Ç—å‚Äù ‚Äî
offerAudio=true –∏ –≤ —Ç–µ–∫—Å—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏ –∞—É–¥–∏–æ –Ω–∞ 2‚Äì3 –º–∏–Ω—É—Ç—ã.

–≠–°–ö–ê–õ–ê–¶–ò–Ø:
–ï—Å–ª–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç/—é—Ä–∏–¥–∏–∫–∞/–Ω–µ —É–≤–µ—Ä–µ–Ω ‚Äî –∫–æ—Ä–æ—Ç–∫–æ:
‚Äú–î–∞–≤–∞–π—Ç–µ –Ω–µ –≥–∞–¥–∞—Ç—å ‚Äî –ø–µ—Ä–µ–¥–∞–º –º–µ–Ω–µ–¥–∂–µ—Ä—É, –æ–Ω —É—Ç–æ—á–Ω–∏—Ç –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç.‚Äù
confidence 0.2‚Äì0.35.

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê ‚Äî –°–¢–†–û–ì–û JSON:
{
  "message": "2‚Äì6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π + –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å –≤ –∫–æ–Ω—Ü–µ",
  "brief": {
    "companyName": "—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ null",
    "companyBusiness": "—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ null",
    "city": "—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ null",
    "targetAudience": "—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ null",
    "task": "–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è|–∑–∞—è–≤–∫–∏|—É–∑–Ω–∞–≤–∞–µ–º–æ—Å—Ç—å|–ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞|null",
    "season": "—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ null"
  },
  "visualKey": "ecosystem|structure|journey|route|choice|hotel|levels|null",
  "offerAudio": false,
  "readyForCalculator": false,
  "confidence": 0.8
}
`;

function shouldOfferAudioByTriggers(text = '') {
  const t = (text || '').toLowerCase();
  return (
    t.includes('–Ω–µ –ø–æ–Ω—è–ª') ||
    t.includes('–Ω–µ –ø–æ–Ω—è–ª–∞') ||
    t.includes('—Å–ª–æ–∂–Ω–æ') ||
    t.includes('–Ω–µ —è—Å–Ω–æ') ||
    t.includes('–Ω–µ–ø–æ–Ω—è—Ç–Ω–æ') ||
    t.includes('–º–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞') ||
    t.includes('–∫–æ—Ä–æ—Ç–∫–æ') ||
    t.includes('–≥–æ–ª–æ—Å–æ–º') ||
    t.includes('–∞—É–¥–∏–æ') ||
    t.includes('–ø–æ—Å–ª—É—à–∞—Ç—å')
  );
}

function pickVisualHeuristic(userText = '', botText = '') {
  const t = `${userText} ${botText}`.toLowerCase();

  // –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–æ —Å–º—ã—Å–ª—É
  if (t.includes('—É—Ä–æ–≤') || t.includes('–ø–∞–∫–µ—Ç') || t.includes('—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç') || t.includes('—Ü–µ–Ω–∞') || t.includes('–±—é–¥–∂–µ—Ç')) return 'levels';
  if (t.includes('—ç—Ñ–∏—Ä') || t.includes('iptv') || t.includes('–æ—Ç–µ–ª') || t.includes('—Ç–≤') || t.includes('–≤ –Ω–æ–º–µ—Ä–µ') || t.includes('hotel')) return 'hotel';
  if (t.includes('–ø–æ—Ä—Ç–∞–ª') || t.includes('—Å–∞–π—Ç') || t.includes('—Å—Ç–∞—Ç—å—è') || t.includes('–ø–æ–¥–±–æ—Ä–∫') || t.includes('–ª–æ–Ω–≥—Ä–∏–¥') || t.includes('seo')) return 'structure';
  if (t.includes('–º–∞—Ä—à—Ä—É—Ç') || t.includes('—Ç–æ—á–∫–∞ –ø—Ä–∏—Ç—è–∂') || t.includes('–≤—Å—Ç—Ä–æ–∏–º') || t.includes('–≤ –º–∞—Ä—à—Ä—É—Ç–µ')) return 'route';
  if (t.includes('–∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç') || t.includes('–ø–æ—á–µ–º—É') || t.includes('—á–µ–º –≤—ã –ª—É—á—à–µ') || t.includes('—Ä–µ–∫–ª–∞–º') || t.includes('–º–æ–º–µ–Ω—Ç –≤—ã–±–æ—Ä–∞')) return 'choice';
  if (t.includes('–ø—É—Ç—å') || t.includes('—ç—Ç–∞–ø') || t.includes('–≤–æ—Ä–æ–Ω–∫') || t.includes('—Å–Ω–∞—á–∞–ª–∞')) return 'journey';
  if (t.includes('—Å–∏—Å—Ç–µ–º–∞') || t.includes('—ç–∫–æ—Å–∏—Å—Ç–µ–º') || t.includes('–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞')) return 'ecosystem';

  return null;
}

export async function analyzeMessage(userMessage, context = []) {
  try {
    const contextToSend = context.slice(-12);

    const messages = [
      { role: 'system', content: SYSTEM_PROMPT },
      ...contextToSend,
      { role: 'user', content: userMessage }
    ];

    const response = await getOpenAI().chat.completions.create({
      model: process.env.OPENAI_MODEL || 'gpt-4o',
      messages,
      temperature: 0.7,
      max_tokens: 650,
      response_format: { type: 'json_object' }
    });

    const content = response.choices?.[0]?.message?.content || '{}';

    let parsed = {};
    try {
      parsed = JSON.parse(content);
    } catch {
      parsed = {};
    }

    const brief = parsed.brief || {};

    // –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è brief
    Object.keys(brief).forEach((k) => {
      if (brief[k] === 'null') brief[k] = null;
      if (typeof brief[k] === 'string' && brief[k].trim() === '') brief[k] = null;
    });

    // –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è task
    const allowedTasks = new Set(['–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è', '–∑–∞—è–≤–∫–∏', '—É–∑–Ω–∞–≤–∞–µ–º–æ—Å—Ç—å', '–ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞']);
    if (brief.task && !allowedTasks.has(String(brief.task))) brief.task = null;

    // –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è visualKey + —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –æ—Ç ‚Äú–≤–µ—á–Ω–æ –æ–¥–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞‚Äù
    const allowedVisuals = new Set(['ecosystem', 'structure', 'journey', 'route', 'choice', 'hotel', 'levels']);
    let visualKey = parsed.visualKey ?? null;
    if (typeof visualKey === 'string') {
      visualKey = visualKey.trim();
      if (!allowedVisuals.has(visualKey)) visualKey = null;
    } else {
      visualKey = null;
    }

    // Heuristic override: –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –ø–æ–ø–∞–ª–∞ –∏–ª–∏ –ª–µ–ø–∏—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ ‚Äî –ø–æ–¥–±–µ—Ä—ë–º –ø–æ —Å–º—ã—Å–ª—É
    const heuristic = pickVisualHeuristic(userMessage, parsed.message || '');
    if (!visualKey && heuristic) visualKey = heuristic;

    const offerAudio = parsed.offerAudio === true || shouldOfferAudioByTriggers(userMessage) || shouldOfferAudioByTriggers(parsed.message || '');

    // readyForCalculator
    const readyForCalculator =
      parsed.readyForCalculator === true ||
      (!!brief.companyBusiness && !!brief.city && !!brief.task && !!brief.season);

    return {
      message: parsed.message || '',
      brief,
      visualKey,
      offerAudio,
      readyForCalculator,
      confidence: typeof parsed.confidence === 'number' ? parsed.confidence : 0.75
    };
  } catch (error) {
    console.error('‚ùå OpenAI error:', error.message);

    return {
      message:
        '–ü–æ–π–º–∞–ª —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å–±–æ–π üòÖ –î–∞–≤–∞–π—Ç–µ –ø–æ-–ø—Ä–æ—Å—Ç–æ–º—É: –æ—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –±—ã—Å—Ç—Ä–æ –≤—Å—ë —Ä–∞–∑–ª–æ–∂–∏—Ç –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –ª—É—á—à–∏–π –∑–∞—Ö–æ–¥.',
      brief: {},
      visualKey: null,
      offerAudio: false,
      readyForCalculator: false,
      confidence: 0.2
    };
  }
}

export function buildBriefingQuestions() {
  return [];
}
